# Uzbekistan Real Estate CRM - Market Analysis & Adjusted MVP Plan

**Document Version:** 1.0
**Date:** December 12, 2025
**Status:** Strategy & Planning Phase

---

## Table of Contents

1. [Executive Summary](#executive-summary)
2. [Market Intelligence](#market-intelligence)
3. [Competitor Analysis](#competitor-analysis)
4. [Critical Gaps & Opportunities](#critical-gaps--opportunities)
5. [Uzbekistan-Specific Requirements](#uzbekistan-specific-requirements)
6. [Brainstormed Features](#brainstormed-uzbekistan-specific-features)
7. [Adjusted MVP Plan](#adjusted-mvp-plan-for-uzbekistan-market)
8. [Features to Skip in MVP](#features-to-skip-in-mvp)
9. [Implementation Timeline](#realistic-timeline)
10. [Success Metrics](#success-metrics-for-uzbekistan-market)
11. [Unique Selling Points](#unique-selling-points-for-uzbekistan-agencies)
12. [Technical Implementation Notes](#technical-implementation-notes)
13. [Sources & References](#sources--references)

---

## Executive Summary

This document outlines a market-driven strategy for building a real estate CRM specifically tailored for the Uzbekistan market, focusing on Tashkent and Samarkand agencies.

**Key Findings:**
- **267 agencies** in Uzbekistan with **11.67% annual growth**
- Existing platforms (Domtut, Realting, Uybor) focus on **consumer listings**, not **agency operations**
- **Critical gap**: No CRM tools for lead management, agent productivity, or communication automation
- **Telegram & WhatsApp** are dominant communication channels (not email)
- **Mahalla-level location** hierarchy is culturally significant
- **Dual language** (Russian/Uzbek) and **dual currency** (USD/UZS) are essential

**Competitive Advantage:**
Building the **first agency-focused CRM** in Uzbekistan with Telegram/WhatsApp integration, AI features, and local workflow automation.

**MVP Timeline:** 11 weeks (6 phases)

---

## Market Intelligence

### Market Size & Growth

| Metric | Value | Source |
|--------|-------|--------|
| Total Agencies | 267 | [RenTech Digital Report](https://rentechdigital.com/smartscraper/business-report-details/list-of-real-estate-agencies-in-uzbekistan) |
| Tashkent Agencies | 111 (41.6%) | Same |
| Samarkand Region | 36 (13.5%) | Same |
| YoY Growth Rate | +11.67% (2023-2025) | Same |
| Market Status | Digital transformation phase | Market analysis |

### Market Trends

1. **Government Reforms**: Urban development projects in Tashkent, Samarkand, Bukhara
2. **Foreign Investment**: Increasing demand for residential and commercial properties
3. **Valuation System**: Mass real estate valuation launching in 2025 to align with market rates
4. **CRM Adoption**: Real estate agents actively adopting CRM software as part of digital transformation
5. **Traditional + Modern**: Mahalla neighborhoods remain popular alongside new builds

### Geographic Distribution

**Top Markets:**
1. **Tashkent** - 111 agencies (capital, largest market)
2. **Samarkand Region** - 36 agencies (historic city, tourism growth)
3. **Bukhara** - Growing demand
4. **Andijan** - Regional market

---

## Competitor Analysis

### Major Platforms in Uzbekistan

#### 1. Domtut.uz - Market Leader

**Platform Type:** Consumer real estate marketplace
**App:** [Google Play](https://play.google.com/store/apps/details?id=uz.domtut.app)

**Key Features:**
- Most popular and convenient real estate catalog
- Advanced filtering:
  - Delivery date (for new builds)
  - Floor and total floors
  - Total area
  - Price per square meter
  - Finishing status (with/without)
- Covers both new buildings and secondary market
- Cottages, plots, and commercial real estate
- Mobile app available

**Target Audience:** Property buyers and renters

---

#### 2. Realting.uz - Enterprise Focus

**Platform Type:** Real estate marketplace with partner network
**App:** [Google Play](https://play.google.com/store/apps/details?id=com.realting.uz) | [App Store](https://apps.apple.com/us/app/realting-uzbekistan/id6754913172)

**Key Features:**
- **40,000+ properties** listed
- **250+ official partners**
- Built-in **mortgage calculator** (proven popular feature)
- Multi-language and multi-currency support
- **International Affiliate Sales System**
  - Real estate professionals can earn commission on transactions
  - Commission tracking capability
- Favorites system for comparing properties
- Database of key Uzbek market players

**Target Audience:** Property buyers + real estate professionals (limited)

**Notable:** This is the closest competitor with affiliate/commission features, but still focused on listings, not full CRM.

---

#### 3. Uybor.uz - Mobile-First Experience

**Platform Type:** Real estate marketplace
**Website:** [uybor.uz](https://uybor.uz/en)
**App:** [Google Play](https://play.google.com/store/apps/details?id=uz.uybor.real)

**Key Features:**
- **Map-based search** with current location
- Quick contact with owners and realtors
- Simplified ad posting
- Fast performance mobile app
- Search by selected area on map

**Target Audience:** Mobile-first property seekers

---

### Competitor Market Positioning

According to competitive analysis:
- **Realt24.uz, Uybor.uz, and Etagi.com** compete for the same organic search keywords
- All three platforms offer mobile apps
- Coverage across major cities (Tashkent, Samarkand, Andijan)

### What Competitors Do Well

âœ… **Property Listings:** Rich filtering, good UX, mobile apps
âœ… **Consumer Experience:** Easy property search and contact
âœ… **Market Coverage:** Comprehensive property databases
âœ… **Visual Search:** Map-based property discovery
âœ… **Mortgage Tools:** Calculators for financing (Realting)
âœ… **Multi-language:** Russian/Uzbek support

---

## Critical Gaps & Opportunities

### What Competitors DON'T Have (Our Opportunity)

#### 1. Agency-Side CRM Tools

Current platforms are **B2C (consumer listings)**, not **B2B (agency operations)**.

**Missing Features:**
- âŒ Lead tracking and pipeline management
- âŒ Agent performance analytics
- âŒ Unified inbox for Telegram/WhatsApp/SMS/calls
- âŒ Automated follow-up reminders
- âŒ Commission tracking per agent
- âŒ Viewing scheduler with calendar sync
- âŒ Task management for agents
- âŒ Multi-agent collaboration tools

**Impact:** Agencies manually track leads in spreadsheets or paper, losing follow-ups and revenue.

---

#### 2. AI-Powered Features

- âŒ No AI property description generator (Uzbek/Russian/English)
- âŒ No AI price suggestions based on market data
- âŒ No AI lead scoring/prioritization
- âŒ No AI chat assistant for agents
- âŒ No automated content generation

**Impact:** Agents spend 30+ minutes per listing writing descriptions manually.

---

#### 3. Marketing Automation

- âŒ No auto-posting to social media (Instagram, Telegram channels, Facebook)
- âŒ No branded agency mini-websites
- âŒ No QR code generation for property marketing
- âŒ No landing page builder for campaigns
- âŒ No email/SMS marketing automation

**Impact:** Agencies manually post to social media, inconsistent branding.

---

#### 4. Communication Integration

- âŒ No centralized inbox for Telegram + WhatsApp + phone calls
- âŒ No voice message transcription (agents use voice notes heavily)
- âŒ No automated client responses
- âŒ No chat templates or quick replies
- âŒ No conversation history attached to leads

**Impact:** Leads scattered across multiple apps, slow response times, lost opportunities.

---

### Strategic Positioning

**This is YOUR competitive advantage:**

> You're building what agencies need **INTERNALLY** to run their business, not just another listing portal for consumers.

**Blue Ocean Strategy:**
- Competitors fight over consumer eyeballs (listing portals)
- You serve agencies with operational tools (CRM)
- Agencies will pay for tools that increase their productivity and revenue

---

## Uzbekistan-Specific Requirements

### Communication Preferences

#### Telegram (Dominant)
- **Primary channel** for real estate in Uzbekistan
- Many agencies have [Telegram channels](https://telemetr.io/en/catalog/uzbekistan/real-estate) for property updates
- Clients expect instant responses via Telegram
- Bot integration is **critical** for Uzbek market

#### WhatsApp (Heavy Usage)
- [Widely used for client communication](https://respond.io/blog/whatsapp-for-real-estate)
- Property photos/videos shared via WhatsApp
- Voice messages preferred over text
- Group chats for team coordination

#### Phone Calls (Still Critical)
- Serious buyers call agents directly
- Need call logging and notes
- Follow-up scheduling after calls

#### Email (Low Priority)
- Not primary communication channel in Uzbekistan
- Used for contracts/documents only
- Lower priority than Telegram/WhatsApp

**Implication:** CRM must have **Telegram + WhatsApp** integration from Day 1, not email-focused like Western CRMs.

---

### Location Hierarchy

**Uzbekistan Location Structure:**

```
City (shahar)
â””â”€â”€ District (tuman)
    â””â”€â”€ Mahalla (community neighborhood)
```

**Why Mahalla Matters:**
- [Mahalla is a traditional neighborhood community unit](https://veles-club.com/projects/uzbekistan/samarkand)
- Culturally significant social structure
- Properties in same mahalla have similar pricing
- Buyers search by mahalla (e.g., "apartment in Yunusobod 5th mahalla")
- **Traditional mahalla houses** are popular alongside modern apartments

**Implication:** Must support **City â†’ District â†’ Mahalla** hierarchy, not just city/street like Western systems.

---

### Language & Currency

#### Dual Language System

| Language | Usage | Priority |
|----------|-------|----------|
| **Russian** | Dominant for business and real estate | Primary |
| **Uzbek** | Official language, growing usage | Secondary but required |
| **English** | Limited to expat properties | Optional (future) |

**Implication:**
- All UI must be Russian + Uzbek from Day 1
- Property descriptions in both languages
- AI must generate bilingual content

#### Dual Currency System

| Currency | Usage | Display |
|----------|-------|---------|
| **USD** | Property pricing standard | $50,000 |
| **UZS** | Local currency for payments | 500,000,000 so'm |
| **Conversion** | Live rates needed | Real-time |

**Implication:**
- Store prices in USD (stable)
- Display in USD or UZS (user preference)
- Live currency conversion API needed

---

### Property Market Specifics

#### New Builds vs. Secondary Market

**New Build Properties (yangi qurilish):**
- Developer name
- Completion date (delivery date)
- Payment plan options
- Pre-sale vs. ready
- Finishing status

**Secondary Market Properties (ikkilamchi bozor):**
- Year built
- Renovation status
- Owner type (individual vs. investor)
- Immediate move-in

**Implication:** Need **distinct property types** with different fields and templates.

---

#### Finishing Status (Critical Filter)

Common categories in Uzbekistan:
1. **Without finishing** (tugatilmagan) - bare walls, buyer finishes
2. **Rough finishing** (qo'pol ta'mirlash) - basic plaster, no fixtures
3. **Standard finishing** (standart) - basic fixtures, livable
4. **Euro finishing** (yevrostandart) - high-quality, modern

**Implication:** Finishing status is a **primary filter**, not optional.

---

#### Floor Preferences

Cultural preferences:
- âŒ **Avoid 1st floor** (security, noise, insects)
- âœ… **Prefer middle floors** (3-7 in high-rises)
- â“ **Top floor** (cheaper, but roof concerns)

**Implication:** Floor and total floors are **critical search filters**.

---

#### Mortgage Integration Opportunity

- [Mortgage calculators proven popular](https://play.google.com/store/apps/details?id=com.realting.uz) (Realting has this)
- Local banks: **Ipoteka Bank, Agrobank, Hamkorbank**
- Down payment: typically 30-50%
- Terms: 5-15 years

**Implication:** Add mortgage calculator widget to listing pages (Phase 2 feature).

---

## Brainstormed Uzbekistan-Specific Features

### 1. Telegram Bot Integration (CRITICAL)

**Use Case:**
- Agent creates property listing â†’ Auto-posts to agency's Telegram channel
- Client writes to bot â†’ Lead auto-created in CRM with property attached
- Bot responds with: photos, price, location, agent contact

**Bot Commands:**
```
/start - Subscribe to property updates
/search - Filter properties (rooms, price, district)
/contact - Speak with agent
/favorites - View saved properties
```

**Lead Capture Flow:**
```
User: "I want 3-room apartment in Yunusobod under $80k"
Bot: "Found 5 matching properties. Here's the first one:"
     [Photo carousel]
     [Property details]
     [Contact Agent button]
User: Clicks "Contact Agent"
Bot: "I've notified our agent [Name]. They'll contact you within 30 minutes."
     â†’ Lead created in CRM with full conversation history
```

**Technical Implementation:**
- Telegram Bot API
- Webhook to CRM API
- Message parsing for property queries
- Auto-response templates

---

### 2. WhatsApp Business API Integration

**Use Case:**
- Centralized inbox for all WhatsApp conversations
- Templates for: greeting, property details, viewing confirmation
- Automated responses during off-hours
- Voice message â†’ auto-transcribed to text â†’ saved to lead notes

**Message Templates:**
```
Greeting:
"Assalomu alaykum! Men [Agent Name]man, [Agency]dan.
Sizga qanday yordam bera olaman?"

Property Details:
"ğŸ  {Type} - {Bedrooms} xona
ğŸ“ {District}, {Mahalla}
ğŸ’° ${Price} ({PriceUZS} so'm)
ğŸ“ {Area} mÂ²
ğŸ”— {Link}"

Viewing Confirmation:
"âœ… Ko'rish tasdiqlandi:
ğŸ“… {Date}
ğŸ• {Time}
ğŸ“ {Address}
ğŸ‘¤ {AgentName} - {AgentPhone}"
```

**Voice Transcription:**
- Agents send voice notes frequently (faster than typing)
- Auto-transcribe using Whisper API or similar
- Attach transcription to lead notes
- Searchable text for all voice notes

---

### 3. Mahalla-Based Search System

**Location Picker UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ City (shahar):   [Tashkent â–¼]      â”‚
â”‚ District (tuman): [Yunusobod â–¼]    â”‚
â”‚ Mahalla:          [5-mahalla â–¼]    â”‚  â† Autocomplete
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Map View:**
- Mahalla boundaries highlighted on map
- Click mahalla â†’ filter properties in that area
- "Properties in your mahalla" feature for local searches

**Database Seed Data Needed:**
- Tashkent: 11 districts â†’ ~200 mahallas
- Samarkand: 9 districts â†’ ~100 mahallas

---

### 4. Dual Currency & Language System

**Currency Display:**
```javascript
// Stored in DB
property.priceUSD = 75000

// Displayed to user (based on preference)
Russian user: "$75,000"
Uzbek user:   "75 000 $ (750 000 000 so'm)"  // Live conversion
```

**Language Toggle:**
```
Navbar: [RU] â† â†’ [UZ]

Property Description:
[RU] "ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ñ€Ğ½Ğ°Ñ 3-ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ½Ğ°Ñ ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ°..."
[UZ] "Keng 3 xonali kvartira..."
```

**AI Auto-Translation:**
- Agent writes in Russian â†’ AI translates to Uzbek
- Or vice versa
- Both stored in database

---

### 5. Voice Note Manager

**Workflow:**
1. Agent finishes call with client
2. Records voice note: "Client wants 2-room, Chilonzor, max $60k, cash buyer, viewing Saturday"
3. Upload to CRM â†’ Auto-transcribed
4. Transcription attached to lead with timestamp
5. Searchable: "Find all leads mentioning 'cash buyer'"

**Technology:**
- WhatsApp voice messages (auto-transcribed)
- Manual voice note upload
- Whisper API or similar for transcription
- Uzbek + Russian language support

---

### 6. "New Build" vs. "Secondary" Smart Filters

**New Build Properties Show:**
- Developer name
- Completion date (Q2 2026)
- Payment plan (30% down, 70% on delivery)
- Construction stage (foundation, walls, finishing)

**Secondary Properties Show:**
- Year built (2015)
- Renovation status (Euro finishing, 2023)
- Owner type (Individual seller)
- Immediate availability

**Different Templates:**
```
NEW_BUILD listing:
"ğŸ—ï¸ Yangi qurilish
ğŸ¢ Developer: {DeveloperName}
ğŸ“… Delivery: {CompletionDate}
ğŸ’³ Payment: {PaymentPlan}"

SECONDARY listing:
"ğŸ  Ikkilamchi bozor
ğŸ“… Built: {YearBuilt}
âœ¨ Renovation: {RenovationStatus}
ğŸ”‘ Ready to move in"
```

---

### 7. Local Payment Method Integration (Future Phase)

**Uzbekistan Payment Methods:**
- **Payme** - Most popular mobile payment
- **Click** - Second most popular
- **Bank transfers** - Traditional

**Use Cases:**
- Subscription payments (agency billing)
- Deposit confirmations
- Commission receipts

**Tax Compliance:**
- Commission tracking in UZS
- VAT calculations (12% in Uzbekistan)
- Monthly reports for tax filing

---

### 8. Mortgage Calculator Widget

**Inspired by Realting's proven feature.**

**Inputs:**
- Property price
- Down payment (% or amount)
- Loan term (years)
- Interest rate (or select bank)

**Outputs:**
- Monthly payment in UZS
- Total interest paid
- Total amount paid
- Comparison of 3-4 local banks

**Banks to Include:**
- Ipoteka Bank (government-backed)
- Agrobank
- Hamkorbank
- Xalq Bank

---

## Adjusted MVP Plan for Uzbekistan Market

### PHASE 1: Core Foundation (Week 1-2)
**Priority: ğŸ”´ CRITICAL**

#### Must-Have Features

**1. Multi-Tenant Architecture**
- Each agency = separate tenant (row-level data isolation)
- Roles:
  - **Super Admin** (platform owner - you)
  - **Agency Admin** (agency owner)
  - **Agent** (belongs to agency)
- Invite agents via email or phone
- Agency settings: logo, name, description, contact info

**2. Dual Language from Day 1**
- **Russian (default)** + **Uzbek**
- All UI elements translated
- Language switcher in navbar
- User preference saved in database

**Translation Files:**
```
apps/web/messages/ru.json âœ… (already exists)
apps/web/messages/uz.json âœ… (already exists)
```

**3. Location Hierarchy: City â†’ District â†’ Mahalla**

**Database Schema:**
```prisma
model City {
  id        String     @id @default(cuid())
  nameRu    String
  nameUz    String
  districts District[]
}

model District {
  id       String    @id @default(cuid())
  cityId   String
  city     City      @relation(fields: [cityId], references: [id])
  nameRu   String
  nameUz   String
  mahallas Mahalla[]
}

model Mahalla {
  id         String     @id @default(cuid())
  districtId String
  district   District   @relation(fields: [districtId], references: [id])
  nameRu     String
  nameUz     String
  properties Property[]
}
```

**Seed Data:**
- **Tashkent**: 11 districts with major mahallas
- **Samarkand**: 9 districts with major mahallas
- Total: ~300 mahallas to seed

**UI Component:**
```typescript
<LocationPicker
  onSelect={(city, district, mahalla) => {}}
  language={locale}
/>
```

**4. Authentication (Already Done âœ…)**
- Phone + OTP via Eskiz (primary)
- Email + Password (alternative)
- Google OAuth (alternative)

---

### PHASE 2: Listing Management (Week 3-4)
**Priority: ğŸ”´ CRITICAL**

#### Must-Have Features

**1. Property CRUD with Uzbekistan Fields**

**Database Schema:**
```prisma
enum PropertyType {
  APARTMENT
  HOUSE
  COMMERCIAL
  LAND
}

enum MarketType {
  NEW_BUILD
  SECONDARY
}

enum FinishingStatus {
  WITHOUT      // bez otdelki
  ROUGH        // chernovaya
  STANDARD     // standart
  EURO         // evrostandart
}

model Property {
  id              String           @id @default(cuid())
  agencyId        String
  agency          Agency           @relation(fields: [agencyId], references: [id])

  // Type & Category
  propertyType    PropertyType
  marketType      MarketType

  // Location (Uzbekistan-specific)
  cityId          String
  city            City             @relation(fields: [cityId], references: [id])
  districtId      String
  district        District         @relation(fields: [districtId], references: [id])
  mahallaId       String?
  mahalla         Mahalla?         @relation(fields: [mahallaId], references: [id])
  address         String?

  // Details
  bedrooms        Int              // 0 = studio
  area            Float            // square meters
  floor           Int?
  totalFloors     Int?

  // Pricing
  priceUSD        Float
  // priceUZS calculated on-the-fly using live rates

  // Finishing
  finishingStatus FinishingStatus?

  // Descriptions (bilingual)
  descriptionRu   String           @db.Text
  descriptionUz   String?          @db.Text

  // New Build specific
  developerName   String?
  completionDate  DateTime?
  paymentPlan     String?          @db.Text

  // Secondary specific
  yearBuilt       Int?
  renovationYear  Int?

  // Media
  images          PropertyImage[]
  videos          PropertyVideo[]

  // Status
  status          PropertyStatus   @default(ACTIVE)
  createdAt       DateTime         @default(now())
  updatedAt       DateTime         @updatedAt

  leads           Lead[]
}
```

**Form Fields:**
```typescript
interface PropertyForm {
  propertyType: 'APARTMENT' | 'HOUSE' | 'COMMERCIAL' | 'LAND'
  marketType: 'NEW_BUILD' | 'SECONDARY'

  // Location
  cityId: string
  districtId: string
  mahallaId?: string
  address?: string

  // Details
  bedrooms: number  // 0 for studio
  area: number      // mÂ²
  floor?: number
  totalFloors?: number

  // Price
  priceUSD: number

  // Finishing
  finishingStatus?: 'WITHOUT' | 'ROUGH' | 'STANDARD' | 'EURO'

  // Descriptions
  descriptionRu: string
  descriptionUz?: string

  // Conditional fields for NEW_BUILD
  developerName?: string
  completionDate?: Date
  paymentPlan?: string

  // Conditional fields for SECONDARY
  yearBuilt?: number
  renovationYear?: number
}
```

**2. Media Upload**

- Drag & drop image upload
- Cloudflare R2 storage (already configured âœ…)
- Auto-resize: thumbnail (300x200), medium (800x600), large (1200x900)
- **Auto-watermarking** with agency logo
- Reorder photos (drag & drop)
- Floor plan upload
- Video upload (optional)

**Watermark Placement:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚          [Photo]            â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚ {AgencyLogo}   {AgencyName} â”‚ â† Bottom-left corner
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**3. Public Listing Page**

**URL:** `https://jahongir-app.uz/listing/[id]`

**Features:**
- Responsive design (mobile-first)
- Photo gallery with lightbox
- Property details in selected language
- **Price in USD + UZS** (live conversion)
- Map with mahalla location
- **Click-to-call agent** button
- **WhatsApp agent** button
- **Share to Telegram** button
- Mortgage calculator widget
- Open Graph tags for rich sharing

**Open Graph Meta Tags:**
```html
<meta property="og:title" content="3-room apartment in Yunusobod" />
<meta property="og:description" content="$75,000 â€¢ 85 mÂ² â€¢ 5th floor" />
<meta property="og:image" content="{firstImage}" />
<meta property="og:url" content="{listingUrl}" />
```

**Optimized for WhatsApp/Telegram sharing** - rich preview with image, price, location.

---

### PHASE 3: Lead Management - Telegram/WhatsApp Focus (Week 5-7)
**Priority: ğŸ”´ CRITICAL - DIFFERENTIATOR**

#### Must-Have Features

**1. Unified Lead Inbox**

**Lead Sources:**
```prisma
enum LeadSource {
  WEBSITE         // Contact form on listing page
  MANUAL          // Agent manually adds (phone call)
  TELEGRAM        // Telegram bot (Phase 3b)
  WHATSAPP        // WhatsApp Business API (Phase 4 - future)
  REFERRAL        // Referred by another client
}

model Lead {
  id              String      @id @default(cuid())
  agencyId        String
  agency          Agency      @relation(fields: [agencyId], references: [id])

  // Client Info
  name            String
  phone           String
  email           String?

  // Source
  source          LeadSource
  sourceDetails   String?     // e.g., "Telegram username: @user"

  // Context
  propertyId      String?
  property        Property?   @relation(fields: [propertyId], references: [id])
  message         String?     @db.Text

  // Assignment
  assignedToId    String?
  assignedTo      User?       @relation(fields: [assignedToId], references: [id])

  // Status
  status          LeadStatus  @default(NEW)

  // Notes & Activities
  notes           Note[]
  activities      Activity[]

  createdAt       DateTime    @default(now())
  updatedAt       DateTime    @updatedAt
}
```

**Lead Inbox UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” New Leads (12)        [Filter â–¼] [Sort â–¼]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± Telegram â€¢ 5 min ago                              â”‚
â”‚ Rustam Karimov â€¢ +998 90 123 4567                   â”‚
â”‚ "Interested in 3-room in Chilonzor under $70k"     â”‚
â”‚ [Assign to Agent â–¼] [View Details]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ Website â€¢ 32 min ago                              â”‚
â”‚ Dilshod Alibekov â€¢ +998 91 234 5678                 â”‚
â”‚ Property: 2-room Yunusobod, $60k                    â”‚
â”‚ Assigned to: Aziz Tursunov                          â”‚
â”‚ [Open Lead]                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**2. Lead Pipeline (Simplified Kanban)**

**Stages:**
```prisma
enum LeadStatus {
  NEW              // Yangi
  CONTACTED        // Aloqa qilindi
  VIEWING_SCHEDULED // Ko'rish rejalashtirilgan
  OFFER_MADE       // Taklif qilindi
  CONTRACT_SIGNED  // Shartnoma imzolandi
  CLOSED_WON       // Muvaffaqiyatli
  CLOSED_LOST      // Rad etildi
}
```

**Kanban View:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NEW     â”‚ CONTACTEDâ”‚ VIEWING  â”‚  OFFER   â”‚ CLOSED   â”‚
â”‚  (12)    â”‚   (8)    â”‚   (5)    â”‚   (3)    â”‚   (2)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Card 1] â”‚ [Card 5] â”‚ [Card 9] â”‚ [Card12] â”‚ [Card14] â”‚
â”‚ [Card 2] â”‚ [Card 6] â”‚ [Card10] â”‚ [Card13] â”‚ [Card15] â”‚
â”‚ [Card 3] â”‚ [Card 7] â”‚ [Card11] â”‚          â”‚          â”‚
â”‚ [Card 4] â”‚ [Card 8] â”‚          â”‚          â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Card Details:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Rustam Karimov              â”‚
â”‚ +998 90 123 4567            â”‚
â”‚ ğŸ“ Looking in: Chilonzor    â”‚
â”‚ ğŸ’° Budget: up to $70k       â”‚
â”‚ ğŸ“… Added: 2h ago            â”‚
â”‚ ğŸ‘¤ Assigned: Aziz           â”‚
â”‚                             â”‚
â”‚ [Call] [WhatsApp] [Notes]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Drag & Drop:** Move cards between stages â†’ Auto-logs activity.

**3. Lead Assignment**

**Auto-Assign Logic (Round Robin):**
```
1. Lead created
2. Find all available agents in agency
3. Assign to agent with fewest active leads
4. Send notification to agent (email + SMS)
```

**Manual Assignment:**
```
Agency Admin Dashboard:
- View all unassigned leads
- Click "Assign to Agent" dropdown
- Select agent
- Add note (optional)
- Confirm
```

**Notifications:**
- **Email:** "New lead assigned: {LeadName}"
- **SMS via Eskiz:** "Yangi mijoz: {LeadName}, {LeadPhone}"
- **Dashboard badge:** Red dot on "Leads" menu

**4. Notes & Activity Timeline**

**Notes:**
```
Agent adds note:
"Client wants viewing on Saturday at 2pm.
Prefers properties with parking.
Cash buyer, can close quickly."
```

**Activity Timeline (Auto-logged):**
```
ğŸ• 2 hours ago - Lead created from Telegram
ğŸ• 1 hour ago - Assigned to Aziz Tursunov
ğŸ• 45 min ago - Status changed to CONTACTED
ğŸ• 30 min ago - Note added: "Called client, interested"
ğŸ• 15 min ago - Viewing scheduled for Dec 15, 2pm
```

---

#### Phase 3b: Telegram Bot Integration (CRITICAL FOR UZBEKISTAN)

**Why Critical:**
- [Telegram is dominant in Uzbekistan real estate](https://telemetr.io/en/catalog/uzbekistan/real-estate)
- Many agencies already have Telegram channels
- Clients expect instant responses via Telegram

**Bot Features:**

**1. Property Subscription Bot**
```
User: /start
Bot: "Welcome to {AgencyName}!
     I'll send you new properties matching your criteria.

     What are you looking for?
     /search - Find properties now
     /subscribe - Get updates
     /contact - Speak with agent"

User: /search
Bot: "Apartment or House? [Buttons]"
User: Clicks "Apartment"
Bot: "How many rooms? [Studio] [1] [2] [3] [4+]"
User: Clicks "3"
Bot: "Which district? [Yunusobod] [Chilonzor] [Sergeli]..."
User: Clicks "Chilonzor"
Bot: "Max budget (USD)? Type amount or click: [$50k] [$70k] [$100k]"
User: Types "75000"
Bot: "Found 12 properties in Chilonzor, 3-room, under $75k.
     Here are the top 3:"

     [Photo carousel with property details]
     [Contact Agent] button for each
```

**2. Lead Capture Flow**
```
User: Clicks "Contact Agent" on property
Bot: "Great! I'll connect you with our agent.

     Please share your contact:
     - Name
     - Phone number"

User: Sends contact

Bot: "Thanks! Our agent will contact you within 30 minutes.

     ğŸ“‹ Your inquiry:
     Property: 3-room, Chilonzor, $72k
     Your contact: {Name}, {Phone}

     âœ… Inquiry sent!"

â†’ Lead auto-created in CRM:
  - Source: TELEGRAM
  - Name, Phone from user
  - Property ID attached
  - Status: NEW
  - Assigned to available agent (round-robin)
  - Notification sent to agent
```

**3. Property Broadcasting**
```
Agent creates new property in CRM:
â†’ Auto-posts to Telegram channel:

"ğŸ  Yangi e'lon!
3-xonali kvartira, Chilonzor

ğŸ’° Narx: $72,000
ğŸ“ Maydoni: 85 mÂ²
ğŸ“ Manzil: Chilonzor, 5-mahalla
ğŸ¢ Qavat: 7/12

âœ¨ Evrostandart ta'mir
ğŸ…¿ï¸ Avtoturargoh bor

ğŸ“ Aloqa: @{agencybot}

[View Photos] [Contact Agent]"

Photo carousel attached.
```

**Technical Stack:**
```typescript
// Bot Framework
- Telegram Bot API
- node-telegram-bot-api or grammy.js

// Webhook Integration
POST /api/telegram/webhook
- Receives Telegram updates
- Creates leads in database
- Sends responses

// Message Templates
- Stored in database
- Editable by agency admin
- Variables: {propertyPrice}, {agentName}, etc.
```

**Database Schema Addition:**
```prisma
model TelegramBotConfig {
  id          String  @id @default(cuid())
  agencyId    String  @unique
  agency      Agency  @relation(fields: [agencyId], references: [id])
  botToken    String  // Bot token from @BotFather
  channelId   String? // Optional: auto-post to channel
  isActive    Boolean @default(true)
}

model Lead {
  // ... existing fields
  telegramUserId    String?
  telegramUsername  String?
}
```

---

### PHASE 4: Agent Productivity Tools (Week 8-9)
**Priority: ğŸŸ  HIGH - RETENTION DRIVER**

#### Must-Have Features

**1. Viewing Scheduler**

**Calendar View:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ December 2025 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mon       Tue       Wed       Thu       Fri       Sat       Sun       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 11        12        13        14        15        16        17        â”‚
â”‚                                         [10:00]   [14:00]             â”‚
â”‚                                         Rustam    Dilshod             â”‚
â”‚                                         Chilonzor Yunusobod           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Create Viewing:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Schedule Property Viewing           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Lead:     [Rustam Karimov â–¼]        â”‚
â”‚ Property: [3-room Chilonzor â–¼]      â”‚
â”‚ Date:     [Dec 15, 2025 ğŸ“…]         â”‚
â”‚ Time:     [14:00 ğŸ•]                â”‚
â”‚ Duration: [30 min â–¼]                â”‚
â”‚ Notes:    [Client wants to see...]  â”‚
â”‚                                     â”‚
â”‚ â˜‘ Send SMS confirmation to client   â”‚
â”‚ â˜‘ Add to my Google Calendar         â”‚
â”‚                                     â”‚
â”‚ [Cancel] [Schedule Viewing]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**SMS Confirmation (via Eskiz âœ…):**
```
"Ko'rish tasdiqlandi:
ğŸ“… 15 dekabr, 2025
ğŸ• 14:00
ğŸ“ Chilonzor, 5-mahalla, {Address}
ğŸ‘¤ Agent: Aziz Tursunov
ğŸ“ +998 90 123 4567

Agar o'zgarish bo'lsa, aloqa qiling."
```

**Google Calendar Sync:**
- Generate `.ics` file or use Google Calendar API
- Event title: "Viewing: {PropertyAddress} - {ClientName}"
- Event description: Property details + client contact
- Location: Property address
- Reminder: 30 min before

**2. Follow-Up Reminders**

**Auto-Reminders:**
```
Trigger: Lead not contacted in 48 hours
Action:
- Email to agent: "You haven't contacted Rustam Karimov (Lead #123)"
- Dashboard notification badge
- Add to "Overdue Follow-ups" section
```

**Daily Agenda Email:**
```
Subject: Your agenda for December 15, 2025

Good morning, Aziz!

ğŸ”” Overdue Follow-ups (3):
- Rustam Karimov (5 days old)
- Dilshod Alibekov (3 days old)
- Malika Rahimova (2 days old)

ğŸ“… Today's Viewings (2):
- 10:00 - Rustam @ Chilonzor property
- 14:00 - Dilshod @ Yunusobod property

âœ… Tasks (1):
- Send contract to Malika

[View Full Dashboard]
```

**Dashboard Widget:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ Overdue Follow-ups (3)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Rustam Karimov                  â”‚
â”‚ Last contact: 5 days ago        â”‚
â”‚ [Call Now] [Add Note]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dilshod Alibekov                â”‚
â”‚ Last contact: 3 days ago        â”‚
â”‚ [Call Now] [Add Note]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**3. Commission Tracking (Basic)**

**Mark Deal as Closed:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Close Deal                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Lead:         Rustam Karimov        â”‚
â”‚ Property:     3-room Chilonzor      â”‚
â”‚ Sale Price:   [$72,000]             â”‚
â”‚ Commission %: [3%]                  â”‚
â”‚ Commission $: $2,160 (auto-calc)    â”‚
â”‚ Agent:        Aziz Tursunov         â”‚
â”‚ Closed Date:  [Dec 15, 2025 ğŸ“…]     â”‚
â”‚                                     â”‚
â”‚ [Cancel] [Mark as Closed]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Agent Performance Dashboard:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Aziz Tursunov - December 2025               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’° Total Commission:   $8,640               â”‚
â”‚ ğŸ† Deals Closed:       4                    â”‚
â”‚ ğŸ“Š Conversion Rate:    12% (4/33)           â”‚
â”‚ â±ï¸ Avg. Response Time:  15 min              â”‚
â”‚ â­ Client Rating:      4.8/5                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Recent Deals:
1. $72k Chilonzor â†’ $2,160 commission
2. $85k Yunusobod â†’ $2,550 commission
3. $60k Sergeli â†’ $1,800 commission
4. $75k Mirzo Ulugbek â†’ $2,250 commission
```

**Agency Admin View (All Agents):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Top Performers - December 2025                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Aziz Tursunov      $8,640  â”‚ 4 deals            â”‚
â”‚ 2. Shohruh Abdullayev $6,480  â”‚ 3 deals            â”‚
â”‚ 3. Kamila Yusupova    $4,320  â”‚ 2 deals            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### PHASE 5: AI Features (Week 10)
**Priority: ğŸŸ  HIGH - WOW FACTOR**

#### Must-Have (Quick Wins)

**1. AI Property Description Generator**

**Use Case:**
- Agent uploads property photos + fills basic details
- Clicks "Generate AI Description"
- AI generates:
  1. **Short description** (2-3 sentences for listings)
  2. **Detailed description** (1 paragraph for property page)
  3. **Instagram caption** (with emojis, hashtags)
  4. **Generated in BOTH Russian and Uzbek**

**Input:**
```json
{
  "propertyType": "APARTMENT",
  "bedrooms": 3,
  "area": 85,
  "floor": 7,
  "totalFloors": 12,
  "district": "Chilonzor",
  "mahalla": "5-mahalla",
  "priceUSD": 72000,
  "finishingStatus": "EURO",
  "features": ["parking", "balcony", "new_renovation"],
  "photos": ["url1", "url2", "url3"]
}
```

**AI Prompt (Claude API):**
```
You are a real estate copywriter in Uzbekistan.

Generate property descriptions for:
- Type: 3-room apartment
- Location: Chilonzor, 5-mahalla, Tashkent
- Area: 85 mÂ²
- Floor: 7/12
- Price: $72,000
- Finishing: Euro standard
- Features: Parking, balcony, new renovation

Generate 3 versions:
1. Short (2-3 sentences) - for quick listings
2. Detailed (1 paragraph) - for full property page
3. Instagram caption (with emojis, hashtags)

Output in BOTH Russian and Uzbek.

Tone: Professional but warm, highlight key selling points.
```

**Output:**
```json
{
  "ru": {
    "short": "ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ñ€Ğ½Ğ°Ñ 3-ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ½Ğ°Ñ ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ° Ğ² Ğ§Ğ¸Ğ»Ğ°Ğ½Ğ·Ğ°Ñ€Ğµ Ñ ĞµĞ²Ñ€Ğ¾Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚Ğ¾Ğ¼. 85 Ğ¼Â² Ğ½Ğ° 7-Ğ¼ ÑÑ‚Ğ°Ğ¶Ğµ, Ğ¿Ğ°Ñ€ĞºĞ¾Ğ²ĞºĞ° Ğ¸ Ğ±Ğ°Ğ»ĞºĞ¾Ğ½. Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ° Ğº Ğ·Ğ°ÑĞµĞ»ĞµĞ½Ğ¸Ñ.",
    "detailed": "ĞŸÑ€Ğ¾Ğ´Ğ°ĞµÑ‚ÑÑ ÑƒÑÑ‚Ğ½Ğ°Ñ Ñ‚Ñ€Ñ‘Ñ…ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ½Ğ°Ñ ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ° Ğ² ÑĞµÑ€Ğ´Ñ†Ğµ Ğ§Ğ¸Ğ»Ğ°Ğ½Ğ·Ğ°Ñ€Ğ°, 5-Ğ¼Ğ°Ñ…Ğ°Ğ»Ğ»Ñ. ĞĞ±Ñ‰Ğ°Ñ Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ 85 Ğ¼Â² Ğ½Ğ° ĞºĞ¾Ğ¼Ñ„Ğ¾Ñ€Ñ‚Ğ½Ğ¾Ğ¼ 7-Ğ¼ ÑÑ‚Ğ°Ğ¶Ğµ 12-ÑÑ‚Ğ°Ğ¶Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¾Ğ¼Ğ°. Ğ¡Ğ²ĞµĞ¶Ğ¸Ğ¹ ĞµĞ²Ñ€Ğ¾Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚, ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ Ğ¾Ñ‚Ğ´ĞµĞ»ĞºĞ°, Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ¼ĞµĞ±ĞµĞ»ÑŒ Ğ½Ğ° ĞºÑƒÑ…Ğ½Ğµ. Ğ‘Ğ°Ğ»ĞºĞ¾Ğ½ Ñ Ğ²Ğ¸Ğ´Ğ¾Ğ¼ Ğ²Ğ¾ Ğ´Ğ²Ğ¾Ñ€. ĞŸĞ¾Ğ´Ğ·ĞµĞ¼Ğ½Ğ°Ñ Ğ¿Ğ°Ñ€ĞºĞ¾Ğ²ĞºĞ°. Ğ Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ°Ñ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°: ÑˆĞºĞ¾Ğ»Ñ‹, ÑĞ°Ğ´Ğ¸ĞºĞ¸, ÑÑƒĞ¿ĞµÑ€Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ñ‹ Ğ² ÑˆĞ°Ğ³Ğ¾Ğ²Ğ¾Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸. Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ Ğ´Ğ»Ñ ÑĞµĞ¼ÑŒĞ¸. Ğ¦ĞµĞ½Ğ° $72,000. Ğ¢Ğ¾Ñ€Ğ³ ÑƒĞ¼ĞµÑÑ‚ĞµĞ½.",
    "instagram": "ğŸ  Ğ’Ğ°ÑˆĞ° Ğ¼ĞµÑ‡Ñ‚Ğ° Ğ² Ğ§Ğ¸Ğ»Ğ°Ğ½Ğ·Ğ°Ñ€Ğµ!\n\nâœ¨ 3 ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹, 85 Ğ¼Â²\nğŸ¢ 7/12 ÑÑ‚Ğ°Ğ¶\nğŸ’ Ğ•Ğ²Ñ€Ğ¾Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚\nğŸ…¿ï¸ ĞŸĞ°Ñ€ĞºĞ¾Ğ²ĞºĞ° ĞµÑÑ‚ÑŒ\nğŸ’° $72,000\n\nğŸ“ 5-Ğ¼Ğ°Ñ…Ğ°Ğ»Ğ»Ñ, Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ñ‹Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½\nğŸ“ Ğ—Ğ²Ğ¾Ğ½Ğ¸Ñ‚Ğµ Ğ¿Ñ€ÑĞ¼Ğ¾ ÑĞµĞ¹Ñ‡Ğ°Ñ!\n\n#Ğ½ĞµĞ´Ğ²Ğ¸Ğ¶Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒĞ¢Ğ°ÑˆĞºĞµĞ½Ñ‚ #Ğ§Ğ¸Ğ»Ğ°Ğ½Ğ·Ğ°Ñ€ #ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ°Ğ¢Ğ°ÑˆĞºĞµĞ½Ñ‚ #Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ°ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€ #3ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ½Ğ°Ñ #ĞµĞ²Ñ€Ğ¾Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚"
  },
  "uz": {
    "short": "Chilonzorda evrostandart ta'mirli 3 xonali kvartira. 85 mÂ², 7-qavat, avtoturargoh va balkon bor. Yashashga tayyor.",
    "detailed": "Chilonzor, 5-mahallada qulay 3 xonali kvartira sotiladi. Umumiy maydoni 85 mÂ², 12 qavatli uyning 7-qavatida joylashgan. Yangi evrostandart ta'mir, sifatli Ğ¾Ñ‚Ğ´ĞµĞ»ĞºĞ°, oshxonada o'rnatilgan mebel. Hovliga qaragan balkon. Yerni avtoturargoh. Rivojlangan infratuzilma: maktablar, bog'chalar, supermarketlar yaqin joyda. Oila uchun ideal variant. Narxi $72,000. Kelishish mumkin.",
    "instagram": "ğŸ  Chilonzordagi orzuingiz!\n\nâœ¨ 3 xona, 85 mÂ²\nğŸ¢ 7/12 qavat\nğŸ’ Evrostandart\nğŸ…¿ï¸ Avtoturargoh\nğŸ’° $72,000\n\nğŸ“ 5-mahalla, rivojlangan hudud\nğŸ“ Hoziroq qo'ng'iroq qiling!\n\n#ToshkentKvartira #Chilonzor #KvartiraSotish #3Xona #Evrostandart"
  }
}
```

**UI Flow:**
```
Agent Dashboard â†’ Add Property Form:

[Upload Photos] [Fill Details]

â†“ (Agent fills basic info)

[âœ¨ Generate AI Description] â† Button

â†“ (Loading... 5-10 seconds)

Preview:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ AI Generated Descriptions       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Russian ğŸ‡·ğŸ‡º] [Uzbek ğŸ‡ºğŸ‡¿]          â”‚
â”‚                                    â”‚
â”‚ Short:                             â”‚
â”‚ {short description}                â”‚
â”‚ [Edit] [Use This]                  â”‚
â”‚                                    â”‚
â”‚ Detailed:                          â”‚
â”‚ {detailed description}             â”‚
â”‚ [Edit] [Use This]                  â”‚
â”‚                                    â”‚
â”‚ Instagram:                         â”‚
â”‚ {instagram caption}                â”‚
â”‚ [Edit] [Copy to Clipboard]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Regenerate] [Save & Continue]
```

**Technical Implementation:**
```typescript
// Backend API
POST /api/properties/generate-description

Request:
{
  propertyType, bedrooms, area, floor,
  district, mahalla, priceUSD,
  finishingStatus, features, photos
}

Response:
{
  ru: { short, detailed, instagram },
  uz: { short, detailed, instagram }
}

// Use Claude API (already available)
import Anthropic from '@anthropic-ai/sdk';

const anthropic = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY,
});

const message = await anthropic.messages.create({
  model: 'claude-3-5-sonnet-20241022',
  max_tokens: 1024,
  messages: [{
    role: 'user',
    content: promptTemplate
  }],
});
```

**Cost Estimate:**
- ~500 tokens per generation
- $0.003 per 1K input tokens (Sonnet)
- ~$0.0015 per description
- Very affordable for the value provided

---

**2. AI Price Suggestion (Simple Version)**

**Use Case:**
- Agent creates property listing
- System suggests price range based on similar properties

**Algorithm (Simple - No External Data Needed):**
```sql
-- Find similar properties in database
SELECT AVG(priceUSD), MIN(priceUSD), MAX(priceUSD)
FROM Property
WHERE
  districtId = '{districtId}'
  AND propertyType = '{propertyType}'
  AND bedrooms = {bedrooms}
  AND area BETWEEN {area * 0.9} AND {area * 1.1}
  AND status = 'SOLD'
  AND createdAt > NOW() - INTERVAL '6 months'
```

**Output:**
```json
{
  "priceSuggestion": {
    "recommended": 72000,
    "range": {
      "low": 65000,
      "high": 80000
    },
    "pricePerSqm": 847,
    "marketInsight": "Properties in this range sell in avg 21 days",
    "confidence": "MEDIUM",  // based on sample size
    "similarPropertiesCount": 8
  }
}
```

**UI Display:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¡ AI Price Suggestion                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Recommended Price: $72,000             â”‚
â”‚ Price per mÂ²: $847                     â”‚
â”‚                                        â”‚
â”‚ Market Range:                          â”‚
â”‚ â”œâ”€ Low: $65,000                        â”‚
â”‚ â”œâ”€ Recommended: $72,000 â­             â”‚
â”‚ â””â”€ High: $80,000                       â”‚
â”‚                                        â”‚
â”‚ ğŸ“Š Based on 8 similar properties       â”‚
â”‚    in Chilonzor sold in last 6 months  â”‚
â”‚                                        â”‚
â”‚ â±ï¸ Properties at this price sell in    â”‚
â”‚    avg 21 days                         â”‚
â”‚                                        â”‚
â”‚ [Use Recommended] [Customize]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Future Enhancement (Phase 2):**
- Machine learning model trained on historical sales
- External market data integration
- Seasonal trends analysis
- Neighborhood appreciation rates

---

### PHASE 6: Agency Branding (Week 11)
**Priority: ğŸŸ¡ MEDIUM - SALES ENABLER**

#### Must-Have Features

**1. Agency Mini-Website (Auto-Generated)**

**URL Structure:**
```
{agency-slug}.jahongir-app.uz

Examples:
- samaragent.jahongir-app.uz
- tashkenthomes.jahongir-app.uz
- royalrealty.jahongir-app.uz
```

**Features:**
```
Homepage:
â”œâ”€ Agency logo (uploaded by admin)
â”œâ”€ Agency name & description
â”œâ”€ Contact info (phone, email, Telegram, WhatsApp)
â”œâ”€ Language toggle (Russian â†” Uzbek)
â”œâ”€ "View Properties" CTA button
â”‚
Properties Page:
â”œâ”€ Filterable property grid
â”‚   â”œâ”€ Filter by: Type, Bedrooms, District, Price
â”‚   â”œâ”€ Sort by: Newest, Price (low/high), Area
â”œâ”€ Property cards (image, price, location, details)
â”œâ”€ Click card â†’ Full property page
â”‚
Property Detail Page:
â”œâ”€ Photo gallery
â”œâ”€ Full description (Russian + Uzbek)
â”œâ”€ Property details table
â”œâ”€ Map with location
â”œâ”€ Mortgage calculator
â”œâ”€ Contact form â†’ Creates lead in CRM
â”‚
Contact Page:
â”œâ”€ Contact form
â”œâ”€ Agency address on map
â”œâ”€ Phone, email, social links
â””â”€ Office hours
```

**Design:**
- Clean, modern design (similar to Uybor/Domtut)
- Mobile-responsive
- Fast loading (Next.js SSG)
- SEO optimized

**Database Schema:**
```prisma
model Agency {
  id          String  @id @default(cuid())
  slug        String  @unique  // for subdomain
  name        String
  descriptionRu String?
  descriptionUz String?
  logoUrl     String?
  phone       String
  email       String?
  telegram    String?  // @username
  whatsapp    String?  // phone number
  address     String?

  // Customization
  primaryColor   String  @default("#3B82F6")
  secondaryColor String  @default("#1E40AF")

  properties  Property[]
  agents      User[]
  leads       Lead[]
}
```

**Dynamic Routing:**
```typescript
// apps/web/src/app/[agencySlug]/page.tsx
// Catches all subdomains or agency slugs

export async function generateStaticParams() {
  const agencies = await prisma.agency.findMany();
  return agencies.map(agency => ({
    agencySlug: agency.slug
  }));
}
```

**Lead Form Submission:**
```
Client fills contact form on mini-website
  â†“
POST /api/agencies/{slug}/leads
  â†“
Create lead in database:
  - Source: WEBSITE
  - AgencyId: {agencyId}
  - PropertyId: {propertyId} (if from property page)
  - Name, Phone, Email, Message
  - Status: NEW
  â†“
Auto-assign to agent (round-robin)
  â†“
Send notification to agent (email + SMS)
```

---

**2. Property Sharing Templates**

**WhatsApp Format:**
```
Agent clicks "Share to WhatsApp" on property:
  â†“
Formatted message copied to clipboard:

ğŸ  3-xonali kvartira, Chilonzor

ğŸ’° Narx: $72,000 (720 mln so'm)
ğŸ“ Maydoni: 85 mÂ²
ğŸ¢ Qavat: 7/12
ğŸ“ Manzil: Chilonzor, 5-mahalla

âœ¨ Evrostandart ta'mir
ğŸ…¿ï¸ Avtoturargoh bor
ğŸ”‘ Yashashga tayyor

ğŸ“ {Agent Name}: +998 90 123 4567
ğŸ”— {ListingURL}

#Chilonzor #KvartiraSotish
```

**Telegram Format:**
```
Similar to WhatsApp, but with Telegram-specific markup:

ğŸ  *3-xonali kvartira*, Chilonzor

ğŸ’° Narx: *$72,000* (720 mln so'm)
ğŸ“ Maydoni: 85 mÂ²
ğŸ¢ Qavat: 7/12
ğŸ“ Manzil: Chilonzor, 5-mahalla

âœ¨ Evrostandart ta'mir
ğŸ…¿ï¸ Avtoturargoh bor

ğŸ“ [Contact Agent](tg://user?id={agentId})
ğŸ”— [View Photos]({listingURL})
```

**UI:**
```
Property Detail Page (Agent View):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Share Property                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“‹ Copy WhatsApp Message]     â”‚
â”‚ [ğŸ“‹ Copy Telegram Message]     â”‚
â”‚ [ğŸ“§ Send via Email]            â”‚
â”‚ [ğŸ”— Copy Link]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Click "Copy WhatsApp Message":
â†’ Formatted text copied to clipboard
â†’ Toast notification: "âœ… Copied! Paste in WhatsApp"

Agent pastes in WhatsApp â†’ Rich preview shows with images
```

---

**3. QR Code Generator**

**Use Cases:**
1. **Listing QR** - On "For Sale" street signs, banners, flyers
2. **Agency Website QR** - On business cards, brochures
3. **Agent Contact QR** - vCard QR code with contact info

**Generate QR Codes:**
```typescript
import QRCode from 'qrcode';

// For property listing
const listingQR = await QRCode.toDataURL(
  `https://jahongir-app.uz/listing/${propertyId}`
);

// For agency website
const agencyQR = await QRCode.toDataURL(
  `https://${agencySlug}.jahongir-app.uz`
);

// For agent vCard
const vCardQR = await QRCode.toDataURL(`
BEGIN:VCARD
VERSION:3.0
FN:Aziz Tursunov
TEL:+998901234567
EMAIL:aziz@agency.uz
URL:https://tashkenthomes.jahongir-app.uz
END:VCARD
`);
```

**UI:**
```
Property Detail Page (Agent View):

[Generate QR Codes] button
  â†“
Modal:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ QR Codes for this Property       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Listing Page:                    â”‚
â”‚ [QR Code Image]                  â”‚
â”‚ [Download PNG] [Download PDF]    â”‚
â”‚                                  â”‚
â”‚ Agent vCard:                     â”‚
â”‚ [QR Code Image]                  â”‚
â”‚ [Download PNG] [Download PDF]    â”‚
â”‚                                  â”‚
â”‚ ğŸ’¡ Use on: Street signs, flyers, â”‚
â”‚    business cards                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Print-Ready QR:**
- High resolution (300 DPI)
- Include property photo + price below QR
- Agency logo + contact info

**Example Flyer Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Property Photo]              â”‚
â”‚                               â”‚
â”‚ 3-xona, Chilonzor             â”‚
â”‚ $72,000 â€¢ 85 mÂ²               â”‚
â”‚                               â”‚
â”‚     [QR Code]                 â”‚
â”‚   Scan for details            â”‚
â”‚                               â”‚
â”‚ {Agency Logo} {Agent Name}    â”‚
â”‚ +998 90 123 4567              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Features to Skip in MVP

**Rationale: Focus on core agency operations first. These can be Phase 2+ features.**

### 1. Auto-Posting to Instagram/Facebook
**Why skip:**
- Complex API permissions and OAuth flows
- Instagram API requires business account verification (slow process)
- Facebook API has strict review process
- Agencies can manually post with "Copy Message" feature

**When to add:** Phase 2, after 50+ agencies using the platform.

---

### 2. Advanced Landing Page Builder
**Why skip:**
- Agency mini-websites cover 80% of use case
- Custom landing pages are edge case (special campaigns)
- Complex UI builder development time

**When to add:** When agencies request custom campaign pages.

---

### 3. Contract Builder
**Why skip:**
- Agencies already have contract templates (Word/PDF)
- Contract laws vary by region
- Legal complexity requires lawyer review
- Not a primary pain point

**When to add:** After legal consultation and template standardization.

---

### 4. Document Vault / File Storage
**Why skip:**
- Agencies use Google Drive / Telegram for file sharing
- Not critical for MVP lead management
- Storage costs scale with uploads

**When to add:** When agencies request centralized document management.

---

### 5. Multi-Branch Support
**Why skip:**
- MVP targets small-medium agencies (single office)
- Multi-branch adds complexity (branch-level permissions, reporting)
- Only ~10-15% of agencies have multiple branches

**When to add:** When enterprise agencies (RE/MAX, etc.) request it.

---

### 6. Advanced Financial Reporting
**Why skip:**
- Basic commission tracking covers MVP needs
- Advanced accounting features overlap with accounting software
- Tax calculations vary by business structure

**When to add:** When agencies request P&L reports and tax features.

---

### 7. AI Lead Scoring
**Why skip:**
- Requires substantial historical lead data (6+ months)
- ML model training needs time and data
- Basic assignment (round-robin) is sufficient for MVP

**When to add:** After 1000+ leads tracked, build ML model for lead quality prediction.

---

### 8. AI Chat Assistant for Agents
**Why skip:**
- Complex to build well (needs RAG, property knowledge base)
- Agents prefer Telegram/WhatsApp for client chat
- Higher value in descriptions/pricing than chat

**When to add:** Phase 2 AI feature after description generator proves valuable.

---

### 9. Fraud Prevention / Duplicate Detection
**Why skip:**
- Watermarking covers basic protection
- Manual review sufficient for MVP agency count
- Automated duplicate detection requires image recognition

**When to add:** When marketplace opens to public listings (not just agencies).

---

### 10. Market Heatmap / Neighborhood Analytics
**Why skip:**
- Requires extensive data collection (property sales, prices over time)
- External data sources needed (government records, competitors)
- Analytics are nice-to-have, not core workflow

**When to add:** After 10,000+ properties listed, build market insights dashboard.

---

### 11. WhatsApp Business API Integration
**Why skip from Phase 3, move to Phase 4+:**
- WhatsApp Business API requires Meta verification (2-4 weeks)
- Requires official Business Manager account
- Costs: ~$0.005-0.01 per message
- Telegram Bot covers 80% of messaging use case

**When to add:** Phase 4 or when agencies specifically request WhatsApp automation.

---

## Realistic Timeline

### MVP Timeline: 11 Weeks (Uzbekistan-Optimized)

| Week | Phase | Features | Priority | Status |
|------|-------|----------|----------|--------|
| **1-2** | **Phase 1** | Foundation + Dual Language + Mahalla | ğŸ”´ Critical | ğŸ“‹ Planned |
| **3-4** | **Phase 2** | Listing Management (Uzbekistan fields) | ğŸ”´ Critical | ğŸ“‹ Planned |
| **5-7** | **Phase 3** | Lead Management + Telegram Bot | ğŸ”´ Critical | ğŸ“‹ Planned |
| **8-9** | **Phase 4** | Agent Tools (Calendar, Reminders, Commission) | ğŸŸ  High | ğŸ“‹ Planned |
| **10** | **Phase 5** | AI Descriptions + Price Suggestions | ğŸŸ  High | ğŸ“‹ Planned |
| **11** | **Phase 6** | Agency Mini-Websites + Sharing | ğŸŸ¡ Medium | ğŸ“‹ Planned |

**Total Duration:** 11 weeks
**With AI Coding Assistance:** Potentially reducible to 8-9 weeks if development is parallelized.

---

### Detailed Week-by-Week Breakdown

#### Week 1-2: Phase 1 - Foundation

**Week 1:**
- [ ] Multi-tenant database schema finalization
- [ ] Agency + User roles implementation
- [ ] Authentication flow testing (already done, verify)
- [ ] Dual language setup verification (Russian/Uzbek)
- [ ] Location hierarchy models (City, District, Mahalla)

**Week 2:**
- [ ] Seed Tashkent districts and mahallas
- [ ] Seed Samarkand districts and mahallas
- [ ] Location picker UI component (cascading dropdowns)
- [ ] Agency onboarding flow (signup, add agents)
- [ ] Language switcher component
- [ ] Agency settings page

**Deliverables:**
- âœ… Agency can create account
- âœ… Invite agents via email/phone
- âœ… Select location down to mahalla level
- âœ… Switch between Russian/Uzbek

---

#### Week 3-4: Phase 2 - Listing Management

**Week 3:**
- [ ] Property model with Uzbekistan-specific fields
- [ ] Property CRUD API endpoints
- [ ] Add Property form UI (all fields)
- [ ] Market Type toggle (New Build vs Secondary)
- [ ] Conditional fields based on market type
- [ ] Image upload to Cloudflare R2

**Week 4:**
- [ ] Image watermarking implementation
- [ ] Image reordering (drag & drop)
- [ ] Floor plan upload
- [ ] Public listing page design
- [ ] Property listing grid view
- [ ] USD â†” UZS currency display
- [ ] Open Graph meta tags for sharing

**Deliverables:**
- âœ… Agent can add property in <2 minutes
- âœ… Images auto-watermarked with agency logo
- âœ… Public listing page shareable on WhatsApp/Telegram
- âœ… Property displays in both Russian and Uzbek

---

#### Week 5-7: Phase 3 - Lead Management & Telegram

**Week 5:**
- [ ] Lead model and database schema
- [ ] Lead inbox UI (table view)
- [ ] Lead detail page
- [ ] Manual lead creation form
- [ ] Lead assignment (manual + auto round-robin)
- [ ] Lead status pipeline (enum)

**Week 6:**
- [ ] Kanban board view (drag & drop)
- [ ] Notes and activity timeline
- [ ] Website contact form â†’ lead creation
- [ ] Email notifications for new leads
- [ ] SMS notifications via Eskiz
- [ ] Filter and search leads

**Week 7:**
- [ ] Telegram bot setup (@BotFather)
- [ ] Bot webhook endpoint
- [ ] Property search flow in bot
- [ ] Lead capture from bot
- [ ] Auto-posting properties to channel
- [ ] Bot configuration UI for agencies

**Deliverables:**
- âœ… Unified lead inbox (website + manual + Telegram)
- âœ… Leads auto-assigned to agents
- âœ… Kanban pipeline for lead stages
- âœ… Telegram bot captures leads automatically
- âœ… Agents notified via SMS + email

---

#### Week 8-9: Phase 4 - Agent Productivity

**Week 8:**
- [ ] Viewing scheduler calendar UI
- [ ] Create viewing form
- [ ] SMS confirmation to client (Eskiz)
- [ ] Google Calendar sync (.ics generation)
- [ ] Viewing list view for agents
- [ ] Daily agenda email

**Week 9:**
- [ ] Follow-up reminder system
- [ ] Overdue follow-ups detection
- [ ] Dashboard notifications
- [ ] Commission tracking (close deal flow)
- [ ] Agent performance dashboard
- [ ] Agency admin commission overview

**Deliverables:**
- âœ… Agent can schedule viewings with SMS confirmation
- âœ… Auto-reminders for overdue follow-ups
- âœ… Commission tracking per agent
- âœ… Daily agenda emails

---

#### Week 10: Phase 5 - AI Features

**Week 10:**
- [ ] Claude API integration
- [ ] AI description prompt engineering
- [ ] Description generation API endpoint
- [ ] UI for description preview/edit
- [ ] Russian + Uzbek output handling
- [ ] Price suggestion algorithm (SQL-based)
- [ ] Price suggestion UI display
- [ ] Similar properties query optimization

**Deliverables:**
- âœ… AI generates property descriptions (RU + UZ)
- âœ… Short, detailed, and Instagram versions
- âœ… Price suggestions based on market data
- âœ… Agents can edit AI output before saving

---

#### Week 11: Phase 6 - Agency Branding

**Week 11:**
- [ ] Agency slug generation
- [ ] Mini-website template design
- [ ] Dynamic routing for agency subdomains
- [ ] Property grid on agency site
- [ ] Contact form â†’ lead creation
- [ ] WhatsApp sharing template
- [ ] Telegram sharing template
- [ ] QR code generator
- [ ] Print-ready QR download

**Deliverables:**
- âœ… Each agency gets {slug}.jahongir-app.uz
- âœ… Public agency website with listings
- âœ… One-click WhatsApp/Telegram sharing
- âœ… QR codes for property marketing

---

### Accelerated Timeline (8-9 Weeks)

**If using AI coding assistance and parallel development:**

| Week | Front-End Work | Back-End Work | Integration |
|------|----------------|---------------|-------------|
| 1-2 | UI components, forms | Multi-tenant, auth, location | Testing |
| 3-4 | Property forms, listings | Property API, R2 upload | Testing |
| 5-6 | Lead inbox, Kanban | Lead API, notifications | Testing |
| 7 | Telegram UI | Telegram bot, webhook | Integration |
| 8 | Calendar, reminders | Scheduler, commission | Testing |
| 9 | AI UI, branding | AI API, QR codes | Launch |

**Parallel teams:**
- **Front-End Developer:** React components, UI/UX
- **Back-End Developer:** API, database, integrations
- **AI Developer:** Claude integration, prompts

**Tools:**
- GitHub Copilot for code generation
- Claude for code review and debugging
- Cursor for AI-assisted editing

---

## Success Metrics for Uzbekistan Market

### Launch Readiness Checklist

**MVP is complete when:**

- âœ… **Agency onboarding:** Agency can create account and add 5+ agents
- âœ… **Property listing:** Agent can add property with mahalla location in <2 minutes
- âœ… **AI descriptions:** Property listing generates Russian + Uzbek descriptions automatically
- âœ… **Lead capture:** Lead from website creates task for agent automatically
- âœ… **Telegram integration:** Telegram bot can share properties to subscribers
- âœ… **Viewing scheduler:** Agent can schedule viewing and send SMS confirmation
- âœ… **Mini-website:** Agency gets mini-website: {name}.jahongir-app.uz
- âœ… **Sharing:** Property can be shared to WhatsApp with formatted message
- âœ… **Commission:** Agent can track closed deals and commissions
- âœ… **Multi-language:** All UI works in Russian and Uzbek

---

### Pilot Program Targets (First 3 Months)

**Acquisition Metrics:**

| Metric | Month 1 | Month 2 | Month 3 | Total |
|--------|---------|---------|---------|-------|
| Agencies Signed Up | 3 | 4 | 3 | **10** |
| Active Agents | 15 | 20 | 15 | **50** |
| Properties Listed | 100 | 200 | 200 | **500** |
| Leads Tracked | 200 | 400 | 400 | **1,000** |
| Viewings Scheduled | 40 | 80 | 80 | **200** |
| Deals Closed | 10 | 20 | 20 | **50** |

**Geographic Distribution:**
- **Tashkent:** 5 agencies
- **Samarkand:** 3 agencies
- **Other cities:** 2 agencies (Bukhara, Andijan)

---

### Engagement Metrics (Monthly Active Users)

**Healthy Usage Indicators:**

| Metric | Target | Measurement |
|--------|--------|-------------|
| **Agent Login Rate** | 80%+ | % of agents logging in weekly |
| **Properties Added per Agent** | 5+ per month | Avg listings per active agent |
| **Leads Responded to within 1 hour** | 60%+ | % of leads with <1hr response |
| **Viewings Scheduled per Week** | 3+ per agent | Avg viewings per active agent |
| **AI Description Usage** | 70%+ | % of properties using AI descriptions |
| **Telegram Bot Engagement** | 50+ messages/day | Bot interaction volume |

---

### Business Metrics (3-Month Pilot)

**Revenue Potential:**

If we charge **$50/month per agency** (conservative):
- 10 agencies Ã— $50 = **$500/month** by Month 3
- Annual run rate: **$6,000**

**Cost of Acquisition (CAC):**
- Target: <$100 per agency (through referrals, demos, word-of-mouth)

**Customer Retention:**
- Target: 90%+ retention after first 3 months
- Churn reasons to monitor: Not enough leads, agents not adopting, price

**Net Promoter Score (NPS):**
- Target: 40+ (Good)
- Survey after 1 month of usage

---

### User Feedback Metrics

**Qualitative Success Indicators:**

**Agent Feedback:**
- "Saves me 2+ hours per day"
- "Never lose leads anymore"
- "AI descriptions are impressive"
- "Love the Telegram bot"

**Agency Owner Feedback:**
- "Can see which agents are performing"
- "Leads are tracked properly now"
- "Professional agency website for free"
- "Clients impressed by SMS confirmations"

**Client (Buyer) Feedback:**
- "Fast response from agents"
- "Easy to browse properties"
- "Telegram bot is convenient"

---

### Technical Performance Metrics

**Platform Reliability:**

| Metric | Target | Critical? |
|--------|--------|-----------|
| **Uptime** | 99.5%+ | Yes |
| **API Response Time** | <200ms (p95) | Yes |
| **Image Upload Success** | 98%+ | Yes |
| **SMS Delivery Rate** | 95%+ | Yes |
| **Telegram Bot Response** | <2s | Yes |
| **AI Description Generation** | <10s | No (async) |

**Scalability:**
- Handle 100 concurrent users without degradation
- Support 10,000 properties in database
- Process 1,000 leads per month

---

### Growth Milestones

**Month 1-3 (Pilot):**
- 10 agencies, 50 agents, 500 properties
- Validate product-market fit
- Iterate based on feedback

**Month 4-6 (Early Growth):**
- 30 agencies, 150 agents, 2,000 properties
- Launch referral program (give agencies 1 month free for referral)
- Add most-requested features

**Month 7-12 (Scale):**
- 100 agencies, 500 agents, 10,000 properties
- Expand to regional cities (Bukhara, Andijan, Namangan)
- Launch marketplace for public property browsing

**Year 2:**
- 500+ agencies nationwide
- Become #1 agency CRM in Uzbekistan
- Consider international expansion (Kazakhstan, Kyrgyzstan)

---

## Unique Selling Points for Uzbekistan Agencies

### Elevator Pitch (30 Seconds)

**Russian:**
> "ĞŸĞµÑ€Ğ²Ğ°Ñ CRM ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ² Ğ£Ğ·Ğ±ĞµĞºĞ¸ÑÑ‚Ğ°Ğ½Ğµ, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ğ°Ñ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ´Ğ»Ñ Ğ°Ğ³ĞµĞ½Ñ‚ÑÑ‚Ğ² Ğ½ĞµĞ´Ğ²Ğ¸Ğ¶Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸. Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞ¹Ñ‚Ğµ Ğ»Ğ¸Ğ´Ğ°Ğ¼Ğ¸ Ğ¸Ğ· Telegram Ğ¸ WhatsApp Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¼ĞµÑÑ‚Ğµ, Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ Ğ¸ ÑƒĞ·Ğ±ĞµĞºÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞ°Ñ… Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ Ğ˜Ğ˜, Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ°Ğ¹Ñ‚ Ğ°Ğ³ĞµĞ½Ñ‚ÑÑ‚Ğ²Ğ° Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾. Ğ‘Ğ¾Ğ»ÑŒÑˆĞµ Ğ½Ğ¸ĞºĞ°ĞºĞ¸Ñ… Ğ¿Ğ¾Ñ‚ĞµÑ€ÑĞ½Ğ½Ñ‹Ñ… ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ², Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ñ‹Ñ… ÑĞ´ĞµĞ»Ğ¾Ğº."

**Uzbek:**
> "O'zbekistonda ko'chmas mulk agentliklari uchun maxsus yaratilgan birinchi CRM tizimi. Telegram va WhatsAppdan mijozlarni bir joyda boshqaring, sun'iy intellekt yordamida rus va o'zbek tillarida tavsiflar yarating, bepul agentlik veb-saytini oling. Endi mijozlarni yo'qotmaslik, ko'proq bitimlarni yopish."

---

### 6 Key Differentiators

#### 1. "First CRM Built FOR Uzbek Agencies, Not Just Another Listing Site"

**Problem:**
- Domtut, Realting, Uybor are for **buyers**, not **agencies**
- No tools for lead tracking, agent management, or workflow automation

**Solution:**
- Built specifically for agency operations
- Focus on **internal productivity**, not public listings
- Designed for Uzbekistan workflows (mahalla search, dual language, etc.)

**Pitch:**
> "Domtut Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑĞ¼ Ğ½Ğ°Ğ¹Ñ‚Ğ¸ ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ñƒ. ĞœÑ‹ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµĞ¼ Ğ’ĞĞœ Ğ·Ğ°ĞºÑ€Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ ÑĞ´ĞµĞ»Ğ¾Ğº."

---

#### 2. "Manage Leads from Telegram and WhatsApp in One Place"

**Problem:**
- Leads scattered across Telegram, WhatsApp, phone calls, walk-ins
- Agents forget to follow up â†’ lost revenue
- No visibility into lead pipeline

**Solution:**
- **Unified inbox** for all lead sources
- **Telegram bot** auto-captures leads
- **Auto-reminders** so agents never forget to follow up

**Pitch:**
> "Ğ¥Ğ²Ğ°Ñ‚Ğ¸Ñ‚ Ñ‚ĞµÑ€ÑÑ‚ÑŒ Ğ»Ğ¸Ğ´Ñ‹ Ğ² Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ÑÑ…. Telegram, WhatsApp, ÑĞ°Ğ¹Ñ‚ â€” Ğ²ÑĞµ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¼ĞµÑÑ‚Ğµ."

---

#### 3. "AI Writes Property Descriptions in Russian AND Uzbek Automatically"

**Problem:**
- Agents spend 30+ minutes per listing writing descriptions
- Inconsistent quality of descriptions
- Uzbek translations often missing or poor

**Solution:**
- **AI generates 3 versions**: Short, detailed, Instagram caption
- **Bilingual output**: Russian + Uzbek
- Edit before publishing if needed

**Pitch:**
> "Ğ˜Ğ˜ Ğ¿Ğ¸ÑˆĞµÑ‚ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ·Ğ° 10 ÑĞµĞºÑƒĞ½Ğ´. ĞĞ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ Ğ¸ ÑƒĞ·Ğ±ĞµĞºÑĞºĞ¾Ğ¼. Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼ÑŒÑ‚Ğµ 30 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğµ Ğ¾Ğ±ÑŠÑĞ²Ğ»ĞµĞ½Ğ¸Ğµ."

**Demo:**
```
Agent uploads 3 photos + fills basic info (3-room, Chilonzor, $72k)
â†’ Clicks "Generate AI Description"
â†’ 10 seconds later: 3 professional descriptions in both languages
â†’ Agent clicks "Use This" and saves
```

**Time saved:** 30 min per listing Ã— 10 listings/month = **5 hours/month per agent**

---

#### 4. "Your Own Agency Website: {yourname}.jahongir-app.uz"

**Problem:**
- Small agencies can't afford professional website development
- Using social media only (no professional web presence)
- Listings scattered on multiple platforms

**Solution:**
- **Auto-generated agency website** at custom subdomain
- Shows all agency listings with filters
- Contact form â†’ goes to CRM inbox
- **Professional branding** for free

**Pitch:**
> "ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ°Ğ¹Ñ‚ Ğ°Ğ³ĞµĞ½Ñ‚ÑÑ‚Ğ²Ğ° Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾. {Ğ²Ğ°ÑˆĞµ-Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ}.jahongir-app.uz"

**Value:**
- Website development would cost $500-1,000
- Included for free with CRM subscription

---

#### 5. "Never Forget to Follow Up with Clients"

**Problem:**
- Agents are busy, forget to call leads back
- "I'll call them tomorrow" â†’ never happens
- Lost deals due to slow response

**Solution:**
- **Auto-reminders**: "Lead not contacted in 48 hours"
- **Daily agenda email**: Today's tasks, viewings, overdue follow-ups
- **SMS notifications** for new leads

**Pitch:**
> "Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°ĞµÑ‚ Ğ²Ğ°Ğ¼ Ğ¾ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğµ. ĞĞµ Ñ‚ĞµÑ€ÑĞ¹Ñ‚Ğµ ÑĞ´ĞµĞ»ĞºĞ¸ Ğ¸Ğ·-Ğ·Ğ° Ğ·Ğ°Ğ±Ñ‹Ğ²Ñ‡Ğ¸Ğ²Ğ¾ÑÑ‚Ğ¸."

**Impact:**
- Studies show follow-up within 1 hour increases close rate by 7x
- Automated reminders = more consistent follow-ups = more closed deals

---

#### 6. "See Which Agents Are Performing Best"

**Problem:**
- Agency owners have no visibility into agent performance
- "How many deals did Aziz close this month?" â†’ manual counting
- No fair commission tracking â†’ disputes

**Solution:**
- **Agent performance dashboard**: Deals closed, commissions earned, response time
- **Leaderboard**: Top performers highlighted
- **Transparent commission tracking**

**Pitch:**
> "Ğ’Ğ¸Ğ´Ğ¸Ñ‚Ğµ, ĞºÑ‚Ğ¾ Ğ¸Ğ· Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸Ğ½Ğ¾ÑĞ¸Ñ‚ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ ÑĞ´ĞµĞ»Ğ¾Ğº. Ğ§ĞµÑÑ‚Ğ½Ñ‹Ğ¹ ÑƒÑ‡Ñ‘Ñ‚ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¹."

**Value:**
- Fair compensation = motivated agents
- Data-driven decisions on agent hiring/firing
- Recognize top performers â†’ retention

---

### Competitive Comparison Table

| Feature | **Jahongir CRM** | Domtut.uz | Realting.uz | Uybor.uz |
|---------|-----------------|-----------|-------------|----------|
| **Target User** | Agencies & Agents | Buyers | Buyers | Buyers |
| **Lead Management** | âœ… Full CRM | âŒ | âŒ | âŒ |
| **Telegram Bot** | âœ… Auto-capture | âŒ | âŒ | âŒ |
| **WhatsApp Integration** | âœ… Planned | âŒ | âŒ | âŒ |
| **AI Descriptions (RU+UZ)** | âœ… Included | âŒ | âŒ | âŒ |
| **Agent Performance** | âœ… Dashboard | âŒ | âŒ | âŒ |
| **Free Agency Website** | âœ… {slug}.domain | âŒ | âŒ | âŒ |
| **Mahalla Search** | âœ… Yes | âš ï¸ Limited | âš ï¸ Limited | âœ… Yes |
| **Mortgage Calculator** | âœ… Included | âŒ | âœ… Yes | âŒ |
| **Commission Tracking** | âœ… Per agent | âŒ | âš ï¸ Limited | âŒ |
| **Viewing Scheduler** | âœ… + SMS confirm | âŒ | âŒ | âŒ |
| **Multi-language** | âœ… RU + UZ | âœ… RU + UZ | âœ… RU + UZ | âœ… RU + UZ |

**Key Takeaway:** Competitors focus on **consumer listings**. We focus on **agency operations**.

---

### Pricing Strategy (Post-MVP)

**Freemium Model:**

| Plan | Price | Limits | Target |
|------|-------|--------|--------|
| **Free** | $0 | 10 properties, 20 leads/month | Solo agents, trial users |
| **Pro** | $50/month | Unlimited properties, unlimited leads, AI features | Small agencies (1-5 agents) |
| **Business** | $150/month | Everything + WhatsApp API, priority support | Medium agencies (6-15 agents) |
| **Enterprise** | Custom | Multi-branch, custom integrations, dedicated account manager | Large agencies (15+ agents) |

**Add-Ons:**
- Extra AI description credits: $10/month for 100 generations
- Premium listing placements: $5/property/month (when marketplace launches)

**Annual Discount:** 20% off (2 months free)

---

## Technical Implementation Notes

### Already Configured âœ…

**Infrastructure:**
- âœ… **PostgreSQL database** with Prisma ORM
- âœ… **Cloudflare R2** for file storage (S3-compatible)
- âœ… **Next.js** monorepo structure (apps/web, apps/api)
- âœ… **Multi-language** support via next-intl (Russian + Uzbek)
- âœ… **Authentication**: Phone (Eskiz SMS), Email, Google OAuth
- âœ… **Email service**: Brevo SMTP configured
- âœ… **SMS service**: Eskiz configured

**Environment Variables:**
```env
# Already set âœ…
DATABASE_URL=postgresql://...
JWT_SECRET=...
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...
ESKIZ_EMAIL=...
ESKIZ_SECRET_KEY=...
SMTP_HOST=smtp-relay.brevo.com
SMTP_USER=...
SMTP_PASSWORD=...
R2_ENDPOINT=...
R2_BUCKET_NAME=...
REDIS_URL=redis://localhost:6379
```

---

### Need to Add ğŸ”§

**1. Mahalla Seed Data**

**Source:**
- Manual data entry (Tashkent + Samarkand)
- Or scrape from Domtut/Uybor if publicly available

**Seed Script:**
```typescript
// packages/database/prisma/seed.ts

const tashkentDistricts = [
  { nameRu: 'Ğ®Ğ½ÑƒÑĞ°Ğ±Ğ°Ğ´', nameUz: 'Yunusobod' },
  { nameRu: 'Ğ§Ğ¸Ğ»Ğ°Ğ½Ğ·Ğ°Ñ€', nameUz: 'Chilonzor' },
  { nameRu: 'Ğ¯ÑˆĞ½Ğ°Ğ±Ğ°Ğ´', nameUz: 'Yashnobod' },
  // ... 11 districts total
];

const yunusobodMahallas = [
  { nameRu: '1-Ğ¼Ğ°Ñ…Ğ°Ğ»Ğ»Ñ', nameUz: '1-mahalla' },
  { nameRu: '2-Ğ¼Ğ°Ñ…Ğ°Ğ»Ğ»Ñ', nameUz: '2-mahalla' },
  // ... ~20 mahallas per district
];

// Run: npx prisma db seed
```

**Total to seed:**
- Tashkent: 11 districts Ã— ~20 mahallas = ~220 mahallas
- Samarkand: 9 districts Ã— ~10 mahallas = ~90 mahallas
- **Total: ~310 mahallas**

---

**2. Telegram Bot API**

**Setup:**
1. Create bot via [@BotFather](https://t.me/botfather)
2. Get bot token
3. Set webhook to CRM API

**Libraries:**
```bash
pnpm add node-telegram-bot-api
# or
pnpm add grammy  # Recommended, more modern
```

**Environment Variable:**
```env
TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
```

**Webhook Endpoint:**
```typescript
// apps/api/src/modules/telegram/telegram.controller.ts

@Post('webhook/:agencyId')
async handleUpdate(@Param('agencyId') agencyId: string, @Body() update: any) {
  // Process Telegram update
  // Create lead, send response
}
```

---

**3. AI Integration (Claude API)**

**Already available:** You have Anthropic API access âœ…

**Environment Variable:**
```env
ANTHROPIC_API_KEY=sk-ant-...
```

**Usage:**
```typescript
import Anthropic from '@anthropic-ai/sdk';

const anthropic = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY,
});

const message = await anthropic.messages.create({
  model: 'claude-3-5-sonnet-20241022',
  max_tokens: 1024,
  messages: [{ role: 'user', content: prompt }],
});

const description = message.content[0].text;
```

**Cost:**
- Input: $3 per 1M tokens
- Output: $15 per 1M tokens
- ~500 tokens per description = ~$0.008 per generation
- Very affordable

---

**4. Currency Conversion (USD â†” UZS)**

**Option 1: Free API**
```bash
# FreeCurrencyAPI (free tier: 5,000 requests/month)
https://api.freecurrencyapi.com/v1/latest?apikey=YOUR_KEY&base_currency=USD&currencies=UZS
```

**Option 2: Cache Exchange Rates**
```typescript
// Update rates daily via cron job
// Store in Redis

redis.set('USD_TO_UZS', '12650');  // 1 USD = 12,650 UZS
```

**Display:**
```typescript
const priceUSD = 72000;
const rate = await redis.get('USD_TO_UZS');
const priceUZS = priceUSD * parseFloat(rate);

// Display: $72,000 (907,800,000 so'm)
```

---

**5. QR Code Generation**

**Library:**
```bash
pnpm add qrcode @types/qrcode
```

**Usage:**
```typescript
import QRCode from 'qrcode';

const qrDataURL = await QRCode.toDataURL(url, {
  width: 300,
  margin: 2,
});

// Returns base64 image: data:image/png;base64,...
```

---

**6. Image Watermarking**

**Library:**
```bash
pnpm add sharp
```

**Usage:**
```typescript
import sharp from 'sharp';

await sharp(inputBuffer)
  .composite([{
    input: agencyLogoBuffer,
    gravity: 'southwest',  // Bottom-left
    opacity: 0.8,
  }])
  .toFile(outputPath);
```

---

### Database Schema Updates Needed

**Major Additions:**

```prisma
// City, District, Mahalla models
model City {
  id        String     @id @default(cuid())
  nameRu    String
  nameUz    String
  districts District[]
  properties Property[]
}

model District {
  id       String    @id @default(cuid())
  cityId   String
  city     City      @relation(fields: [cityId], references: [id])
  nameRu   String
  nameUz   String
  mahallas Mahalla[]
  properties Property[]
}

model Mahalla {
  id         String     @id @default(cuid())
  districtId String
  district   District   @relation(fields: [districtId], references: [id])
  nameRu     String
  nameUz     String
  properties Property[]
}

// Property updates
model Property {
  // Add Uzbekistan-specific fields
  marketType      MarketType       // NEW_BUILD | SECONDARY
  mahallaId       String?
  mahalla         Mahalla?         @relation(fields: [mahallaId], references: [id])
  finishingStatus FinishingStatus?
  descriptionRu   String           @db.Text
  descriptionUz   String?          @db.Text
  developerName   String?
  completionDate  DateTime?
  yearBuilt       Int?
}

// Lead updates
model Lead {
  source           LeadSource
  telegramUserId   String?
  telegramUsername String?
  whatsappPhone    String?
}

// Telegram bot config
model TelegramBotConfig {
  id        String  @id @default(cuid())
  agencyId  String  @unique
  agency    Agency  @relation(fields: [agencyId], references: [id])
  botToken  String
  channelId String?
  isActive  Boolean @default(true)
}

// Viewing scheduler
model Viewing {
  id         String   @id @default(cuid())
  leadId     String
  lead       Lead     @relation(fields: [leadId], references: [id])
  propertyId String
  property   Property @relation(fields: [propertyId], references: [id])
  agentId    String
  agent      User     @relation(fields: [agentId], references: [id])
  scheduledAt DateTime
  duration   Int      @default(30)  // minutes
  status     ViewingStatus @default(SCHEDULED)
  notes      String?
  createdAt  DateTime @default(now())
}

enum ViewingStatus {
  SCHEDULED
  COMPLETED
  CANCELLED
  NO_SHOW
}
```

**Migration:**
```bash
npx prisma migrate dev --name add_uzbekistan_features
```

---

### Performance Considerations

**Caching Strategy:**
- **Redis** for:
  - Currency exchange rates (TTL: 24 hours)
  - Property counts for filters (TTL: 5 minutes)
  - Session data

**Database Indexing:**
```prisma
model Property {
  @@index([cityId, districtId, mahallaId])
  @@index([propertyType, marketType])
  @@index([priceUSD])
  @@index([bedrooms])
  @@index([agencyId, status])
}

model Lead {
  @@index([agencyId, status])
  @@index([assignedToId])
  @@index([source])
}
```

**Image Optimization:**
- Resize on upload: Thumbnail (300Ã—200), Medium (800Ã—600), Large (1200Ã—900)
- Use WebP format for smaller file sizes
- Lazy loading on frontend

---

## Sources & References

### Market Research

1. [Real Estate Agencies in Uzbekistan - Statistics](https://rentechdigital.com/smartscraper/business-report-details/list-of-real-estate-agencies-in-uzbekistan)
   - 267 agencies, 11.67% YoY growth
   - Tashkent: 111 agencies, Samarkand: 36 agencies

2. [How to Become a Real Estate Agent in Uzbekistan](https://arabmls.org/how-to-become-a-real-estate-agent-in-uzbekistan/)
   - CRM adoption in Uzbek real estate sector

3. [Uzbekistan Real Estate Market 2025](https://magg.uz/en/tashkent/real-estate-agency)
   - Market trends and growth drivers

---

### Competitor Platforms

4. [Domtut.uz - Google Play](https://play.google.com/store/apps/details?id=uz.domtut.app)
   - Market leader features analysis

5. [Realting.uz - Google Play](https://play.google.com/store/apps/details?id=com.realting.uz)
   - 40,000+ properties, 250+ partners, mortgage calculator

6. [Uybor.uz - Platform](https://uybor.uz/en)
   - Mobile-first, map-based search

7. [Domtut.uz Competitors - Similarweb](https://www.similarweb.com/website/domtut.uz/competitors/)
   - Competitive landscape analysis

---

### Communication & Workflow

8. [WhatsApp for Real Estate Guide](https://respond.io/blog/whatsapp-for-real-estate)
   - Real estate agents using WhatsApp globally

9. [MLS Chat Assistant Integration](https://arabmls.org/mls-chat-assistant-integration-with-whatsapp-or-telegram/)
   - Telegram/WhatsApp integration best practices

10. [WhatsApp Real Estate Use Cases 2025](https://zixflow.com/blog/whatsapp-real-estate-use-cases)
    - 13 use cases for real estate businesses

11. [Telegram Real Estate Channels Uzbekistan](https://telemetr.io/en/catalog/uzbekistan/real-estate)
    - Telegram usage in Uzbek real estate market

---

### Market-Specific Information

12. [Samarkand Mahalla Properties](https://veles-club.com/projects/uzbekistan/samarkand)
    - Mahalla neighborhoods and traditional houses

13. [Real Estate Investment Guide Uzbekistan](https://buildsandbuys.com/uzbekistan-real-estate-investment-guide/)
    - Market overview and investment opportunities

14. [Uzbekistan Real Estate Valuation 2025](https://invest-in-uzbekistan.org/en/living-projects/)
    - Mass valuation system launching 2025

---

### Technical Resources

15. [Telegram Bot API Documentation](https://core.telegram.org/bots/api)
16. [WhatsApp Business API](https://developers.facebook.com/docs/whatsapp)
17. [Anthropic Claude API](https://docs.anthropic.com/)
18. [Cloudflare R2 Documentation](https://developers.cloudflare.com/r2/)
19. [Eskiz.uz SMS API](https://eskiz.uz/api-documentation)
20. [Brevo SMTP Documentation](https://developers.brevo.com/)

---

## Document Control

**Version History:**

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 1.0 | 2025-12-12 | Initial comprehensive market analysis and MVP plan | Claude |

**Next Review:** After pilot program launch (3 months)

**Maintained by:** Product Team

---

**END OF DOCUMENT**
